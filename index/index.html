<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hooked - Foro de Pesca</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <h1>üé£ Hooked - Foro de Pesca</h1>
    <nav>
      <button id="btn-posts" class="nav-btn">Posts</button>
      <button id="btn-create-post" class="nav-btn auth-only" style="display:none;">Crear Post</button>
      <button id="btn-login" class="nav-btn">Login</button>
      <button id="btn-logout" class="nav-btn auth-only" style="display:none;">Logout</button>
      <span id="user-info"></span>
    </nav>
  </header>

  <main id="main-content">
    <!-- Vista: Lista de Posts -->
    <section id="posts-view" class="view">
      <div id="posts-container">
        <p>Cargando posts...</p>
      </div>
    </section>

    <!-- Vista: Formulario de Login/Registro -->
    <section id="auth-view" class="view" style="display:none;">
      <div class="form-container">
        <h2 id="auth-title">Login</h2>
        <form id="auth-form">
          <div class="form-group">
            <input type="text" id="nombre" placeholder="Nombre" style="display:none;" required>
          </div>
          <div class="form-group">
            <input type="email" id="email" placeholder="Email" required>
          </div>
          <div class="form-group">
            <input type="password" id="password" placeholder="Contrase√±a" required minlength="6">
          </div>
          <div class="form-group">
            <button type="submit" id="auth-submit">Ingresar</button>
          </div>
        </form>
        <p id="auth-msg" class="error-msg"></p>
        <p class="auth-toggle">
          <span id="auth-toggle-text">¬øNo tienes cuenta?</span>
          <a href="#" id="auth-toggle-link">Crear una</a>
        </p>
      </div>
    </section>

    <!-- Vista: Crear Post -->
    <section id="create-post-view" class="view" style="display:none;">
      <div class="form-container">
        <h2>üé£ Crear Nuevo Post</h2>
        <form id="create-post-form">
          <div class="form-group">
            <label for="titulo">T√≠tulo del Post *</label>
            <input type="text" id="titulo" placeholder="Ej: ¬°Incre√≠ble jornada de pesca en el r√≠o!" 
                   required minlength="5" maxlength="200">
            <small>M√≠nimo 5 caracteres, m√°ximo 200</small>
          </div>

          <div class="form-group">
            <label for="categoria">Categor√≠a *</label>
            <select id="categoria" required>
              <option value="">Selecciona una categor√≠a</option>
            </select>
          </div>

          <div class="form-group">
            <label for="contenido">Contenido del Post *</label>
            <textarea id="contenido" placeholder="Cu√©ntanos sobre tu experiencia de pesca: d√≥nde fuiste, qu√© t√©cnicas usaste, qu√© pescaste..." 
                      required minlength="10" rows="6"></textarea>
            <small>M√≠nimo 10 caracteres</small>
          </div>

          <div class="form-group">
            <label for="fotoLink">Foto de tu captura (opcional)</label>
            <input type="url" id="fotoLink" placeholder="https://ejemplo.com/mi-foto-de-pesca.jpg">
            <small>URL de la imagen de tu pesca</small>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">üé£ Publicar Post</button>
            <button type="button" id="cancel-post" class="btn-secondary">Cancelar</button>
          </div>
        </form>
        <p id="create-post-msg" class="error-msg"></p>
      </div>
    </section>

    <!-- Template para Posts (oculto) -->
    <template id="post-template">
      <div class="post-card">
        <h3 class="post-title"></h3>
        <div class="post-content"></div>
        <img class="post-image" style="display:none;" alt="foto de pesca">
        <div class="post-footer">
          <div class="post-actions">
            <button class="like-btn">
              ‚ù§Ô∏è <span class="like-count">0</span>
            </button>
            <span class="post-author">por autor</span>
          </div>
          <span class="post-category">categor√≠a</span>
        </div>
      </div>
    </template>
  </main>

  <script src="js/api.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/app.js"></script>
</body>
</html>